#!/bin/bash
#
# A script to update a linux distro based on Arch, OpenSUSE, Fedora or Debian.
#
# Copyright (C) 2024 Ronald Jørnsøn
# 45grn6meov@runbox.email
#
# SPDX-License_Identifier: GPL-3.0-or-later
#
# https://www.gnu.org/licenses/gpl-3.0-standalone.html

set -e

release_file=/etc/os-release

if grep -q "debian" $release_file ; then
  # the host is based on Debian, run the apt update command.
  sudo apt-get update
  sudo apt-get dist-upgrade -y
fi

if grep -q "Arch" $release_file ; then
  # the host is based on arch, run the pacman update command.
  sudo pacman -Syu
fi

if grep -q "Fedora" $release_file ; then
  # the host is based on Fedora, run the dnf upgrade command
  sudo dnf upgrade
fi

if grep -q "opensuse-tumbleweed" $release_file ; then
  # the host is based on OpenSUSE Tumbleweed, run the zypper command
  sudo zypper dup
fi

if grep -q "opensuse-leap" $release_file ; then
  # the host is based on OpenSUSE Leap, run the zypper command
  sudo zypper up
fi

exit
